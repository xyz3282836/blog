import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as o,a as r,o as i}from"./app-C-hQN9YY.js";const a={};function c(s,e){return i(),o("div",null,e[0]||(e[0]=[r('<h2 id="csrf错误配置漏洞修复建议" tabindex="-1"><a class="header-anchor" href="#csrf错误配置漏洞修复建议"><span>CSRF错误配置漏洞修复建议</span></a></h2><h3 id="漏洞简介" tabindex="-1"><a class="header-anchor" href="#漏洞简介"><span>漏洞简介：</span></a></h3><p>CSRF(Cross-site request forgery) 跨站请求伪造，是用一些欺骗的手段诱导受害者访问一个带攻击代码的第三方网站，带攻击代码的第三方网站向被攻击的网站发起跨站请求。利用受害者已经登陆的权限，进行一些需要登陆的敏感操作。</p><h3 id="两种常见的-csrf-漏洞利用" tabindex="-1"><a class="header-anchor" href="#两种常见的-csrf-漏洞利用"><span>两种常见的 CSRF 漏洞利用：</span></a></h3><ol><li><h4 id="get方法的csrf" tabindex="-1"><a class="header-anchor" href="#get方法的csrf"><span>GET方法的CSRF</span></a></h4><p><code>&lt;img src=``&quot;https://xxx.bilibili.com/action?xxx=xxx&quot;</code> <code>&gt;</code></p><p>受害者访问带攻击代码的站点时，浏览器会带上 bilibili 域的 Cookie 请求 http://xxx.bilibili.com/action?xxx=xxx 域名</p></li><li><h4 id="post方法的csrf" tabindex="-1"><a class="header-anchor" href="#post方法的csrf"><span>POST方法的CSRF</span></a></h4><p><code>&lt;form action=``&quot;https://xxx.bilibili.com/action&quot;</code> <code>method=POST&gt;`` ``&lt;input type=``&quot;hidden&quot;</code> <code>name=``&quot;xxx&quot;</code> <code>value=``&quot;xxx&quot;</code> <code>/&gt;``&lt;/form&gt;``&lt;script&gt; document.forms[0].submit(); &lt;/script&gt;</code></p></li></ol><h3 id="修复建议" tabindex="-1"><a class="header-anchor" href="#修复建议"><span>修复建议：</span></a></h3><ol><li>敏感操作避免使用 GET 方法（目前我们有一些业务同时支持 GET、POST 两种方式请求，GET 请求无 CSRF TOKEN 的校验）</li><li>POST 请求增加 CSRF TOKEN 校验（第三方站点无法获取用户的Token）</li><li>其他建议：也可以增加同源检测</li></ol>',7)]))}const p=t(a,[["render",c],["__file","csrf.html.vue"]]),d=JSON.parse('{"path":"/tech/web/csrf.html","title":"csrf","lang":"zh-CN","frontmatter":{"title":"csrf","date":"2024-04-07T10:06:00.000Z","category":"web","tag":["web","csrf"],"description":"CSRF错误配置漏洞修复建议 漏洞简介： CSRF(Cross-site request forgery) 跨站请求伪造，是用一些欺骗的手段诱导受害者访问一个带攻击代码的第三方网站，带攻击代码的第三方网站向被攻击的网站发起跨站请求。利用受害者已经登陆的权限，进行一些需要登陆的敏感操作。 两种常见的 CSRF 漏洞利用： GET方法的CSRF <img ...","head":[["meta",{"property":"og:url","content":"https://blog.ruizhou.cf/tech/web/csrf.html"}],["meta",{"property":"og:site_name","content":"rz blog"}],["meta",{"property":"og:title","content":"csrf"}],["meta",{"property":"og:description","content":"CSRF错误配置漏洞修复建议 漏洞简介： CSRF(Cross-site request forgery) 跨站请求伪造，是用一些欺骗的手段诱导受害者访问一个带攻击代码的第三方网站，带攻击代码的第三方网站向被攻击的网站发起跨站请求。利用受害者已经登陆的权限，进行一些需要登陆的敏感操作。 两种常见的 CSRF 漏洞利用： GET方法的CSRF <img ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-07-17T12:34:05.000Z"}],["meta",{"property":"article:tag","content":"web"}],["meta",{"property":"article:tag","content":"csrf"}],["meta",{"property":"article:published_time","content":"2024-04-07T10:06:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-07-17T12:34:05.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"csrf\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-04-07T10:06:00.000Z\\",\\"dateModified\\":\\"2024-07-17T12:34:05.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"ruizhou\\",\\"url\\":\\"https://blog.ruizhou.cf\\"}]}"]]},"headers":[{"level":2,"title":"CSRF错误配置漏洞修复建议","slug":"csrf错误配置漏洞修复建议","link":"#csrf错误配置漏洞修复建议","children":[{"level":3,"title":"漏洞简介：","slug":"漏洞简介","link":"#漏洞简介","children":[]},{"level":3,"title":"两种常见的 CSRF 漏洞利用：","slug":"两种常见的-csrf-漏洞利用","link":"#两种常见的-csrf-漏洞利用","children":[]},{"level":3,"title":"修复建议：","slug":"修复建议","link":"#修复建议","children":[]}]}],"git":{"createdTime":1721219645000,"updatedTime":1721219645000,"contributors":[{"name":"zhou","email":"ruizhouliu@163.com","commits":1}]},"readingTime":{"minutes":0.94,"words":282},"filePathRelative":"tech/web/csrf.md","localizedDate":"2024年4月7日","excerpt":"","autoDesc":true}');export{p as comp,d as data};
