import{_ as l}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as t,a,o as i}from"./app-C-hQN9YY.js";const r={};function o(n,e){return i(),t("div",null,e[0]||(e[0]=[a('<p>原文地址：https://sre.google/sre-book/table-of-contents/</p><blockquote><p>100%的可用性是不现实的，需要达到这个目标的成本通常远 超于所能获得的价值，所以 Google 会针对每种产品设定一个错误预算（容错率）， 既能保证用户体验又不影响创新和部署的速度。</p></blockquote><h2 id="第1章-sre-方法论" tabindex="-1"><a class="header-anchor" href="#第1章-sre-方法论"><span>第1章 SRE 方法论</span></a></h2><h3 id="组成" tabindex="-1"><a class="header-anchor" href="#组成"><span>组成</span></a></h3><p>sre 的组成：</p><ul><li>50%-60%标准软件工程师</li><li>40%-50%基本满足标准工程师（具备 85%-99%技能），同时具备一定程度<code>其他技术能力</code>的工程师。 <ul><li>unix 系统内部细节</li><li>1-3 层网络知识</li></ul></li></ul><p>sre 的特点</p><ul><li>对于重复性手工性的操作天然排斥</li><li>又能力快速开发软件系统来替代手工操作</li></ul><p>sre 应该有个传统运维工作 50%的上限，并且随着时间推移期望全部消费这类工作，全力投入研发工作。因为整个系统应该可以自主运行，自动修复问题。</p><p>终极目标是推动整个系统趋向于无人化运行，不仅仅是自动化某些人工流程。</p><p>sre 必须将 50%精力花在真实开发工作上。</p><h3 id="错误预算" tabindex="-1"><a class="header-anchor" href="#错误预算"><span>错误预算</span></a></h3><p>不应该一味追求 100%，不是一个正确的可靠性目标。需要考虑</p><ul><li>基于用户使用习惯，服务可靠性要达到什么程度用户才会满意</li><li>如果可靠程度不够，用户是否有其他代替选择</li><li>服务的可靠程度是否会影响用户对这项服务的使用模式</li></ul><p>商业部和产品部必须由这两者建立一个合理的可靠性目标，一旦建立，1-可靠性目标就是错误预算，研发和 sre 可以在这个范围内将这个预算用于新功能或者创新等。</p><p>错误预算用途：研发团队可以上线新功能。提高新功能上线速度，常见战术策略，灰度发布，ab 测试等，这些手段都可以更合理使用错误预算。</p><h4 id="好处" tabindex="-1"><a class="header-anchor" href="#好处"><span>好处</span></a></h4><p>解决研发和 sre 组织架构的冲突，不再是零事故，目标一致，为了保证业务可用性同时加快上线速度。</p><h3 id="监控系统" tabindex="-1"><a class="header-anchor" href="#监控系统"><span>监控系统</span></a></h3><p>sre 监控服务质量和可用性的主要手段。</p><p>三类输出</p><ul><li>alert，紧急警报，需要立刻介入执行操作</li><li>ticket，工单，不影响系统，非立刻执行</li><li>logging，日志</li></ul><h3 id="应急事件处理" tabindex="-1"><a class="header-anchor" href="#应急事件处理"><span>应急事件处理</span></a></h3><p>评价一个团队将系统恢复到正常情况的最有效指标，MTTR。可靠性是 MTTF（平均失败时间）和 MTTR（平均恢复时间）的函数。</p><p>有预案的运维手册可以是 MTTR 降低 3 倍以上。</p><h3 id="变更管理" tabindex="-1"><a class="header-anchor" href="#变更管理"><span>变更管理</span></a></h3><p>70%事故由某种部署变更触发。</p><p>变更的最佳实践是使用自动化来完成如下：</p><ul><li>渐进发布</li><li>可以迅速而准确检测问题发生</li><li>可回滚</li></ul><h3 id="预测和容量规划" tabindex="-1"><a class="header-anchor" href="#预测和容量规划"><span>预测和容量规划</span></a></h3><p>需要具备这种预测和容量规划意识。</p><p>容量规划需要：</p><ul><li>有个准确的自然增长的预测模型</li><li>规划中有准确非自然增长需求来源的统计</li><li>周期性压测</li></ul><h3 id="资源部署" tabindex="-1"><a class="header-anchor" href="#资源部署"><span>资源部署</span></a></h3><p>资源部署和配置必须能够非常迅速完成。</p><h3 id="效率与性能" tabindex="-1"><a class="header-anchor" href="#效率与性能"><span>效率与性能</span></a></h3><p>需要关心资源利用率</p>',37)]))}const c=l(r,[["render",o],["__file","sre.html.vue"]]),h=JSON.parse('{"path":"/tech/book/sre.html","title":"Google SRE","lang":"zh-CN","frontmatter":{"title":"Google SRE","date":"2023-06-14T05:07:00.000Z","category":"architecture","tag":["secure","reliable","sre"],"description":"原文地址：https://sre.google/sre-book/table-of-contents/ 100%的可用性是不现实的，需要达到这个目标的成本通常远 超于所能获得的价值，所以 Google 会针对每种产品设定一个错误预算（容错率）， 既能保证用户体验又不影响创新和部署的速度。 第1章 SRE 方法论 组成 sre 的组成： 50%-60%标...","head":[["meta",{"property":"og:url","content":"https://blog.ruizhou.cf/tech/book/sre.html"}],["meta",{"property":"og:site_name","content":"rz blog"}],["meta",{"property":"og:title","content":"Google SRE"}],["meta",{"property":"og:description","content":"原文地址：https://sre.google/sre-book/table-of-contents/ 100%的可用性是不现实的，需要达到这个目标的成本通常远 超于所能获得的价值，所以 Google 会针对每种产品设定一个错误预算（容错率）， 既能保证用户体验又不影响创新和部署的速度。 第1章 SRE 方法论 组成 sre 的组成： 50%-60%标..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-01-26T16:16:19.000Z"}],["meta",{"property":"article:tag","content":"secure"}],["meta",{"property":"article:tag","content":"reliable"}],["meta",{"property":"article:tag","content":"sre"}],["meta",{"property":"article:published_time","content":"2023-06-14T05:07:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-01-26T16:16:19.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Google SRE\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-06-14T05:07:00.000Z\\",\\"dateModified\\":\\"2024-01-26T16:16:19.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"ruizhou\\",\\"url\\":\\"https://blog.ruizhou.cf\\"}]}"]]},"headers":[{"level":2,"title":"第1章 SRE 方法论","slug":"第1章-sre-方法论","link":"#第1章-sre-方法论","children":[{"level":3,"title":"组成","slug":"组成","link":"#组成","children":[]},{"level":3,"title":"错误预算","slug":"错误预算","link":"#错误预算","children":[{"level":4,"title":"好处","slug":"好处","link":"#好处","children":[]}]},{"level":3,"title":"监控系统","slug":"监控系统","link":"#监控系统","children":[]},{"level":3,"title":"应急事件处理","slug":"应急事件处理","link":"#应急事件处理","children":[]},{"level":3,"title":"变更管理","slug":"变更管理","link":"#变更管理","children":[]},{"level":3,"title":"预测和容量规划","slug":"预测和容量规划","link":"#预测和容量规划","children":[]},{"level":3,"title":"资源部署","slug":"资源部署","link":"#资源部署","children":[]},{"level":3,"title":"效率与性能","slug":"效率与性能","link":"#效率与性能","children":[]}]}],"git":{"createdTime":1706285779000,"updatedTime":1706285779000,"contributors":[{"name":"liuruizhou","email":"liuruizhou@bilibili.com","commits":1}]},"readingTime":{"minutes":2.86,"words":858},"filePathRelative":"tech/book/sre.md","localizedDate":"2023年6月14日","excerpt":"","autoDesc":true}');export{c as comp,h as data};
