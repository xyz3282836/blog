<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.59" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://blog.ruizhou.cf/tech/asm/plan9.html"><meta property="og:site_name" content="rz blog"><meta property="og:title" content="plan9"><meta property="og:description" content="基本指令 https://go.xargin.com/docs/assembly/assembly/ MOV 数据搬运，赋值 LEA 取址 & TEST CMP 比较 JLS （ jump less ）小于时跳转 JMP（ jump ）无条件跳转 JEQ（ jump equal ）等于时跳转 SUB 相减，结果保存到目标操作数 ADD 相加，结果保存到..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-01-26T16:16:19.000Z"><meta property="article:tag" content="go"><meta property="article:tag" content="compile"><meta property="article:published_time" content="2023-06-14T05:07:00.000Z"><meta property="article:modified_time" content="2024-01-26T16:16:19.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"plan9","image":[""],"datePublished":"2023-06-14T05:07:00.000Z","dateModified":"2024-01-26T16:16:19.000Z","author":[{"@type":"Person","name":"ruizhou","url":"https://blog.ruizhou.cf"}]}</script><link rel="alternate" type="application/atom+xml" href="https://blog.ruizhou.cf/atom.xml" title="rz blog Atom Feed"><link rel="alternate" type="application/json" href="https://blog.ruizhou.cf/feed.json" title="rz blog JSON Feed"><link rel="alternate" type="application/rss+xml" href="https://blog.ruizhou.cf/rss.xml" title="rz blog RSS Feed"><link rel="icon" href="/favicon.ico"><title>plan9 | rz blog</title><meta name="description" content="基本指令 https://go.xargin.com/docs/assembly/assembly/ MOV 数据搬运，赋值 LEA 取址 & TEST CMP 比较 JLS （ jump less ）小于时跳转 JMP（ jump ）无条件跳转 JEQ（ jump equal ）等于时跳转 SUB 相减，结果保存到目标操作数 ADD 相加，结果保存到...">
    <link rel="preload" href="/assets/style-BMBWCryW.css" as="style"><link rel="stylesheet" href="/assets/style-BMBWCryW.css">
    <link rel="modulepreload" href="/assets/app-rFP3mJQ8.js"><link rel="modulepreload" href="/assets/plan9.html-BJ4ET2_i.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/" aria-label="带我回家"><img class="vp-nav-logo" src="/hero.png" alt><!----><span class="vp-site-name hide-in-pad">rz blog</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="主页"><!--[--><span class="font-icon icon iconfont icon-home" style=""></span><!--]-->主页<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/ai/" aria-label="AI"><!--[--><span class="font-icon icon iconfont icon-people" style=""></span><!--]-->AI<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/launch-event/" aria-label="科技发布会"><!--[--><span class="font-icon icon iconfont icon-event" style=""></span><!--]-->科技发布会<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="英文"><!--[--><span class="font-icon icon iconfont icon-note" style=""></span>英文<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/english/" aria-label="英文学习"><!--[--><span class="font-icon icon iconfont icon-study" style=""></span><!--]-->英文学习<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/english/everyday/" aria-label="每日英文"><!--[--><span class="font-icon icon iconfont icon-article" style=""></span><!--]-->每日英文<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/english/news/" aria-label="news"><!---->news<!----></a></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">词汇</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/english/vocabulary/high-frequency-vocabulary.html" aria-label="高频词汇"><!---->高频词汇<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/english/vocabulary/root.html" aria-label="词根词缀"><!---->词根词缀<!----></a></li></ul></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/english/grammar.html" aria-label="语法"><!---->语法<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/computer/" aria-label="电脑硬件"><!--[--><span class="font-icon icon iconfont icon-computer" style=""></span><!--]-->电脑硬件<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link route-link-active auto-link" href="/tech/" aria-label="技术"><!--[--><span class="font-icon icon iconfont icon-form" style=""></span><!--]-->技术<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="代码笔记"><!--[--><span class="font-icon icon iconfont icon-code" style=""></span>代码笔记<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/code/" aria-label="代码笔记"><!--[--><span class="font-icon icon iconfont icon-code" style=""></span><!--]-->代码笔记<!----></a></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">后端运维</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/linux/" aria-label="Linux"><!--[--><span class="font-icon icon iconfont icon-linux" style=""></span><!--]-->Linux<!----></a></li></ul></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="软件教程"><!--[--><span class="font-icon icon iconfont icon-software" style=""></span>软件教程<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/software/" aria-label="软件教程"><!--[--><span class="font-icon icon iconfont icon-software" style=""></span><!--]-->软件教程<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/software/vscode/" aria-label="VS Code"><!--[--><span class="font-icon icon iconfont icon-vscode" style=""></span><!--]-->VS Code<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/software/git/" aria-label="Git"><!--[--><span class="font-icon icon iconfont icon-git" style=""></span><!--]-->Git<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/software/comsol/" aria-label="COMSOL"><!--[--><span class="font-icon icon iconfont icon-app" style=""></span><!--]-->COMSOL<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="auto-link external-link" href="https://theme-hope.vuejs.press/changelog.html" aria-label="2.0.0-rc.59" rel="noopener noreferrer" target="_blank"><!--[--><span class="font-icon icon iconfont icon-vue" style=""></span><!--]-->2.0.0-rc.59<!----></a></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/xyz3282836/monodoc" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><!--[--><button type="button" class="search-pro-button" aria-label="搜索"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon" name="search"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">搜索</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/tech/" aria-label="技术"><!---->技术<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-go" style=""></span><span class="vp-sidebar-title">golang 语言</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-yaml" style=""></span><span class="vp-sidebar-title">YAML 教程</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Ai</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Algorithms</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Architecture</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Article</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">Asm</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/tech/asm/plan9.html" aria-label="plan9"><!---->plan9<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Bilibili</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Book</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Cloud</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Design Pattern</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Docker</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Engineer</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Git</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Ide</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Linux</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Mac</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Machine Learning</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Other</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Sh</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Source</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Technical Term</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Vscode</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Web</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->plan9</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://blog.ruizhou.cf" target="_blank" rel="noopener noreferrer">ruizhou</a></span><span property="author" content="ruizhou"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2023年6月14日</span><meta property="datePublished" content="2023-06-14T05:07:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 21 分钟</span><meta property="timeRequired" content="PT21M"></span><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color8 clickable" role="navigation">编译</span><!--]--><meta property="articleSection" content="编译"></span><span class="page-tag-info" aria-label="标签🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color5 clickable" role="navigation">go</span><span class="page-tag-item color5 clickable" role="navigation">compile</span><!--]--><meta property="keywords" content="go,compile"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><div class="vp-toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#基本指令">基本指令</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#栈调整">栈调整</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#数据计算">数据计算</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#内存操作">内存操作</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#条件调转">条件调转</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#寄存器">寄存器</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#通用寄存器">通用寄存器</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#伪寄存器">伪寄存器</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#变量声明">变量声明</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#函数声明">函数声明</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#栈结构">栈结构</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#argsize-和-framsize">argsize 和 framsize</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level4" href="#argsize">argsize</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level4" href="#framesize">framesize</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level4" href="#地址运算">地址运算</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#伪寄存器-sp-、伪寄存器-fp-和硬件寄存器-sp">伪寄存器 SP 、伪寄存器 FP 和硬件寄存器 SP</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#其他">其他</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#simd">SIMD</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#demo">demo</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content" vp-content><h2 id="基本指令" tabindex="-1"><a class="header-anchor" href="#基本指令"><span>基本指令</span></a></h2><p>https://go.xargin.com/docs/assembly/assembly/</p><ul><li>MOV 数据搬运，赋值</li><li>LEA 取址 &amp;</li><li>TEST</li><li>CMP 比较</li><li>JLS （ jump less ）小于时跳转</li><li>JMP（ jump ）无条件跳转</li><li>JEQ（ jump equal ）等于时跳转</li><li>SUB 相减，结果保存到目标操作数</li><li>ADD 相加，结果保存到目标操作数</li><li>RET 返回</li><li>NOP 空指令</li><li>CALL 调用函数</li><li>SHL（ shift logical left ） 逻辑左移指令 <code>&lt;&lt;</code></li><li>SHR（ shift logical right ） 逻辑右移指令 <code>&gt;&gt;</code>，右移时不保留操作数的符号，用 0 代替</li><li>SAL（ shift arithmetic left ）算术左移指令</li><li>SAR（ shift arithmetic right ）算术右移指令，右移时保留操作数的符号</li><li>XADD：交换并相加</li><li>NEG：求补指令，就是取相反数</li><li>XORPS：源操作数（第二个操作数）与目标操作数（第一个操作数）进行异或。结果保存到目标操作数</li><li>MOVUPS：与 MOV 一样，操作对象的类型不一样，这里是包含四个压缩单精度浮点值的双四字</li><li>XCHG: 交换两个操作数内容，自带 LOCK 总线锁属性</li></ul><blockquote><p>MOV 指令有有好几种后缀 MOVB MOVW MOVL MOVQ 分别对应的是 1 字节 、2 字节 、4 字节、8 字节</p></blockquote><h3 id="栈调整" tabindex="-1"><a class="header-anchor" href="#栈调整"><span>栈调整</span></a></h3><p>intel 或 AT&amp;T 汇编提供了 push 和 pop 指令族，<s>plan9 中没有 push 和 pop</s>，plan9 中虽然有 push 和 pop 指令，但一般生成的代码中是没有的，我们看到的栈的调整大多是通过对硬件 SP 寄存器进行运算来实现的，例如:</p><div class="language-asm line-numbers-mode" data-highlighter="shiki" data-ext="asm" data-title="asm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">SUBQ </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">$0x18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> // 对 </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 做减法，为函数分配函数栈帧</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">...               // 省略无用代码</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ADDQ </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">$0x18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> // 对 </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 做加法，清除函数栈帧</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通用的指令和 X64 平台差不多，下面分节详述。</p><p>常数在 plan9 汇编用 $num 表示，可以为负数，默认情况下为十进制。可以用 $0x123 的形式来表示十六进制数。</p><h3 id="数据计算" tabindex="-1"><a class="header-anchor" href="#数据计算"><span>数据计算</span></a></h3><p>data moves from left to right</p><div class="language-asm line-numbers-mode" data-highlighter="shiki" data-ext="asm" data-title="asm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">ADD</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> R1, R2 // R2 += R1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">SUB</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> R3, R4, R5 // R5 = R4 - R3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MUL</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> $7</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, R6 // R6 *= </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">7</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="内存操作" tabindex="-1"><a class="header-anchor" href="#内存操作"><span>内存操作</span></a></h3><p>memory oprands: offset + reg1 + reg2*scale</p><p><code>(AX)</code>表示 <code>*AX</code>，取地址对应的值</p><div class="language-asm line-numbers-mode" data-highlighter="shiki" data-ext="asm" data-title="asm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOV</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (R1), R2 // R2 = *R1  取R1的地址对应的值</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOV</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(R3), R4 // R4 = *(</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> + R3)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOV</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(R5)(R6*</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), R7 // R7 = *(</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> + R5 + R6*</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOV</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ·MYVAR(SB), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">R8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> // </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">R8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = *MYVAR</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOV</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> $8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(R1)(R2*</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), R3 // R3 = </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOV</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $·MYVAR(SB), R4 // R4 = &amp;MYVAR 地址赋值给R4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="条件调转" tabindex="-1"><a class="header-anchor" href="#条件调转"><span>条件调转</span></a></h3><div class="language-asm line-numbers-mode" data-highlighter="shiki" data-ext="asm" data-title="asm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// 跳转</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">JMP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> addr</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">JMP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> label</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">JMP</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(PC)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">JMP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(PC)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">JZ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> target</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="寄存器" tabindex="-1"><a class="header-anchor" href="#寄存器"><span>寄存器</span></a></h2><h3 id="通用寄存器" tabindex="-1"><a class="header-anchor" href="#通用寄存器"><span>通用寄存器</span></a></h3><p>应用层代码使用的通用寄存器主要是</p><p>rax,rbx,rcx,rdx</p><p>rdi,rsi</p><p>r8,r9,...r14,r15</p><p>rbp,rsp，虽然 rbp 和 rsp 也可以用，不过 bp 和 sp 会被用来管理栈顶和栈底，最好不要拿来进行运算</p><p>rip 其实就是 pc(program count)</p><p>plan9 不需要 r 或者 e 的前缀，x64 平台寄存器在 plan9 的标识</p><table><thead><tr><th style="text-align:left;">X64</th><th>rax</th><th>rbx</th><th>rcx</th><th>rdx</th><th>rdi</th><th>rsi</th><th>rbp</th><th>rsp</th><th>r8</th><th>r9</th><th>r10</th><th>r11</th><th>r12</th><th>r13</th><th>r14</th><th>r15</th><th>rip</th></tr></thead><tbody><tr><td style="text-align:left;">Plan9</td><td>AX</td><td>BX</td><td>CX</td><td>DX</td><td>DI</td><td>SI</td><td>BP</td><td>SP</td><td>R8</td><td>R9</td><td>R10</td><td>R11</td><td>R12</td><td>R13</td><td>R14</td><td>R15</td><td>PC</td></tr></tbody></table><h3 id="伪寄存器" tabindex="-1"><a class="header-anchor" href="#伪寄存器"><span>伪寄存器</span></a></h3><p>Go 的汇编还引入了 4 个伪寄存器，援引官方文档的描述:</p><blockquote><ul><li><code>FP</code>: Frame pointer: arguments and locals.</li><li><code>PC</code>: Program counter: jumps and branches.</li><li><code>SB</code>: Static base pointer: global symbols.</li><li><code>SP</code>: Stack pointer: <code>the highest address</code> within the local stack frame.</li></ul></blockquote><ul><li><p>FP: 使用形如 <code>symbol+offset(FP)</code> 的方式，引用<code>函数的输入参数</code>。例如 <code>arg0+0(FP)</code>，<code>arg1+8(FP)</code>，使用 FP 不加 symbol 时，无法通过编译，在汇编层面来讲，symbol 并没有什么用，加 symbol 主要是为了提升代码可读性。另外，官方文档虽然将伪寄存器 FP 称之为 frame pointer，<code>实际上它根本不是 frame pointer</code>，按照传统的 x86 的习惯来讲，frame pointer 是指向整个 stack frame 底部的 BP 寄存器。假如当前的 callee 函数是 add，在 add 的代码中引用 FP，该 FP 指向的位置不在 callee 的 stack frame 之内，而是在 caller 的 stack frame 上。FP 和 Go 的官方源代码里的 framepointer 不是一回事，源代码里的 framepointer 指的是 caller BP 寄存器的值，在这里和 caller 的伪 SP 是值是相等的。</p></li><li><p>PC: 实际上就是在体系结构的知识中常见的 <code>pc 寄存器</code>，在 x86 平台下对应 ip 寄存器，amd64 上则是 rip。除了个别跳转之外，手写 plan9 代码与 PC 寄存器打交道的情况较少。</p></li><li><p>SB: 全局静态基指针，一般用来<code>声明函数或全局变量</code>。</p></li><li><p>SP: plan9 的这个 SP 寄存器<code>指向当前栈帧的局部变量的开始位置</code>，使用形如 <code>symbol+offset(SP)</code> 的方式，引用函数的局部变量。offset 的合法取值是 [-framesize, 0)，注意是个左闭右开的区间。假如局部变量都是 8 字节，那么第一个局部变量就可以用 <code>localvar0-8(SP)</code> 来表示。这也是一个词不表意的寄存器。与硬件寄存器 SP 是两个不同的东西，在栈帧 size 为 0 的情况下，伪寄存器 SP 和硬件寄存器 SP 指向同一位置。手写汇编代码时，如果是 <code>symbol+offset(SP)</code> 形式，则表示伪寄存器 SP。如果是 <code>offset(SP)</code> 则表示硬件寄存器 SP。务必注意。对于编译输出(go tool compile -S / go tool objdump)的代码来讲，目前所有的 SP 都是硬件寄存器 SP，无论是否带 symbol。</p></li><li><p>在 go tool objdump/go tool compile -S 输出的代码中，是没有伪 SP 和 FP 寄存器的，我们上面说的区分伪 SP 和硬件 SP 寄存器的方法，对于上述两个命令的输出结果是没法使用的。在编译和反汇编的结果中，只有真实的 SP 寄存器。</p></li><li><p>FP 和 Go 的官方源代码里的 framepointer 不是一回事，源代码里的 framepointer 指的是 caller BP 寄存器的值，在这里和 caller 的伪 SP 是值是相等的。</p></li></ul><div class="language-asm line-numbers-mode" data-highlighter="shiki" data-ext="asm" data-title="asm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> BP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">48</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) // offset(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="变量声明" tabindex="-1"><a class="header-anchor" href="#变量声明"><span>变量声明</span></a></h3><p>使用 DATA 结合 GLOBL 来定义一个变量。DATA 的用法为:</p><div class="language-asm line-numbers-mode" data-highlighter="shiki" data-ext="asm" data-title="asm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">DATA symbol+offset(SB)/width, value</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">定义一个变量 offset一般为0(定义数组，第二个元素开始就不是0)，是相对于symbol的偏移，width是大小，value是值</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>使用 GLOBL 指令将变量声明为 global，额外接收两个参数，一个是 flag，另一个是变量的总大小。</p><p>GLOBL 必须跟在 DATA 指令之后</p><div class="language-asm line-numbers-mode" data-highlighter="shiki" data-ext="asm" data-title="asm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">DATA age+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0x00</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(SB)/</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  // 定义一个age的变量，4个字节，值是18</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">GLOBL age(SB), RODATA, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> // 跟在DATA命令的后面一行，将age变量定义成global全局变量，flag是只读，大小也就是前面DATA定义的width，4个字节；第一个参数offset省略，直接 varname(SB)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// 定义个pi变量，大小是8个字节，值3</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">14...</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">，并且设置为全局变量，只读</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">DATA pi+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(SB)/</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$3.1415926</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">GLOBL pi(SB), RODATA, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$8</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// offset 不为0的情况，&lt;&gt;标识表示只在当前文件中生效</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">DATA bio&lt;&gt;+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(SB)/</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, $&quot;xiao ming&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">DATA bio&lt;&gt;+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(SB)/</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, $&quot;xiao hong&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">GLOBOL bio&lt;&gt;(SB), RODATA, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$16</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>flag 还可以是</p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Don&#39;t profile the marked routine. This flag is deprecated.过期了，给TEXT用的</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">NOPROF</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// It is ok for the linker to get multiple of these symbols. It will</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// pick one of the duplicates to use.</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">DUPOK</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Don&#39;t insert stack check preamble.给TEXT用的</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">NOSPLIT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	4</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Put this data in a read-only section.给DATA和GLOBOL用的</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">define</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> RODATA</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	8</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// This data contains no pointers.给DATA和GLOBOL用的</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">define</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> NOPTR</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	16</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// This is a wrapper function and should not count as disabling &#39;recover&#39;.给TEXT用的</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">define</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> WRAPPER</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 32</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// This function uses its incoming context register.给TEXT用的</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">define</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> NEEDCTXT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 64</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Allocate a word of thread local storage and store the offset from the</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// thread local base to the thread local storage in this variable.给DATA和GLOBOL用的</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">define</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> TLSBSS</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	256</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Do not insert instructions to allocate a stack frame for this function.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Only valid on functions that declare a frame size of 0.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// TODO(mwhudson): only implemented for ppc64x at present.给TEXT用的</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">define</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> NOFRAME</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 512</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Function can call reflect.Type.Method or reflect.Type.MethodByName.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">define</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> REFLECTMETHOD</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1024</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Function is the top of the call stack. Call stack unwinders should stop</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// at this function.给TEXT用的</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">define</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> TOPFRAME</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2048</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当使用这些 flag 的字面量时，需要在汇编文件中 <code>#include &quot;textflag.h&quot;</code>。</p><p>.s 文件可以读取.go 文件中的变量，以及.go 定义一个 func，.s 来实现这个 func，必须在一个包文件目录下，go build，go test 都是可以的</p><h2 id="函数声明" tabindex="-1"><a class="header-anchor" href="#函数声明"><span>函数声明</span></a></h2><div class="language-asm line-numbers-mode" data-highlighter="shiki" data-ext="asm" data-title="asm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// func </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(a, b </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">int</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">//   =&gt; 该声明定义在同一个 package 下的任意 .go 文件中</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">//   =&gt; 只有函数头，没有实现</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">TEXT pkgname·</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(SB), </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOSPLIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    MOVQ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(FP), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    MOVQ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(FP), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">BX</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ADDQ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">BX</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> BX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">ret</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(FP)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    RET</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// · mac下输入方法是 option+shift+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">9</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                              参数及返回值大小</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                                  |</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> TEXT pkgname·</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(SB),</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOSPLIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$32</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">32</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">       |        |               |</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      包名     函数名         栈帧大小(局部变量+可能需要的额外调用函数的参数空间的总大小，但不包括调用其它函数时的 </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">ret</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> address 的大小)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="栈结构" tabindex="-1"><a class="header-anchor" href="#栈结构"><span>栈结构</span></a></h2><p>下面是一个典型的函数的栈结构图:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>                       -----------------</span></span>
<span class="line"><span>                       current func arg0</span></span>
<span class="line"><span>                       ----------------- &lt;----------- FP(pseudo FP)</span></span>
<span class="line"><span>                        caller ret addr  ---不算在当前栈帧内</span></span>
<span class="line"><span>                       +---------------+</span></span>
<span class="line"><span>                       | caller BP(*)  |</span></span>
<span class="line"><span>                       ----------------- &lt;----------- SP(pseudo SP，实际上是当前栈帧的 BP 位置)</span></span>
<span class="line"><span>                       |   Local Var0  |</span></span>
<span class="line"><span>                       -----------------</span></span>
<span class="line"><span>                       |   Local Var1  |</span></span>
<span class="line"><span>                       -----------------</span></span>
<span class="line"><span>                       |   Local Var2  |</span></span>
<span class="line"><span>                       -----------------</span></span>
<span class="line"><span>                       |   ........    |</span></span>
<span class="line"><span>                       -----------------</span></span>
<span class="line"><span>                       |   Local VarN  |</span></span>
<span class="line"><span>                       -----------------</span></span>
<span class="line"><span>                       |               |</span></span>
<span class="line"><span>                       |               |</span></span>
<span class="line"><span>                       |  temporarily  |</span></span>
<span class="line"><span>                       |  unused space |</span></span>
<span class="line"><span>                       |               |</span></span>
<span class="line"><span>                       |               |</span></span>
<span class="line"><span>                       -----------------</span></span>
<span class="line"><span>                       |  call retn    |</span></span>
<span class="line"><span>                       -----------------</span></span>
<span class="line"><span>                       |  call ret(n-1)|</span></span>
<span class="line"><span>                       -----------------</span></span>
<span class="line"><span>                       |  ..........   |</span></span>
<span class="line"><span>                       -----------------</span></span>
<span class="line"><span>                       |  call ret1    |</span></span>
<span class="line"><span>                       -----------------</span></span>
<span class="line"><span>                       |  call argn    |</span></span>
<span class="line"><span>                       -----------------</span></span>
<span class="line"><span>                       |   .....       |</span></span>
<span class="line"><span>                       -----------------</span></span>
<span class="line"><span>                       |  call arg3    |</span></span>
<span class="line"><span>                       -----------------</span></span>
<span class="line"><span>                       |  call arg2    |</span></span>
<span class="line"><span>                       |---------------|</span></span>
<span class="line"><span>                       |  call arg1    |</span></span>
<span class="line"><span>                       -----------------   &lt;------------  hardware SP 位置</span></span>
<span class="line"><span>                         return addr</span></span>
<span class="line"><span>                       +---------------+</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>从原理上来讲，如果当前函数调用了其它函数，那么 return addr 也是在 caller 的栈上的，不过往栈上插 return addr 的过程是由 CALL 指令完成的，在 RET 时，SP 又会恢复到图上位置。我们在计算 SP 和参数相对位置时，可以认为硬件 SP 指向的就是图上的位置。</p><p>图上的 caller BP，指的是 caller 的 BP 寄存器值，有些人把 caller BP 叫作 caller 的 frame pointer，实际上这个习惯是从 x86 架构沿袭来的。Go 的 asm 文档中把伪寄存器 FP 也称为 frame pointer，但是这两个 frame pointer 根本不是一回事。</p><p>是否插入 BP(源代码中的 fram pointer)条件 1： 函数栈帧大小大于 0，2：Framepointer_enabled 返回 true 没有插入 caller BP，伪 SP 和伪 FP 相差 caller ret addr 的 8 个字节，插入的话就多出 8 字节，一共 16 字节</p><p>stack 从高地址向低地址增长，FP 参数是 argN 在高地址，arg1 在低地址，以参数和变量都占用 8 个字节为例子，用 <code>symname+0(FP)访问第一个参数</code>，<code>symname+8(FP)访问第二个参数</code>，以此类推。</p><p>用伪 SP 来引用局部变量，原理上来讲差不多，不过因为伪 SP 指向的是局部变量的底部，所以 <code>symname-8(SP) 表示的是第一个局部变量</code>，<code>symname-16(SP)表示第二个</code>，以此类推</p><figure><img src="/assets/image-20220709144517363-Cgl38RnB.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="argsize-和-framsize" tabindex="-1"><a class="header-anchor" href="#argsize-和-framsize"><span>argsize 和 framsize</span></a></h3><h4 id="argsize" tabindex="-1"><a class="header-anchor" href="#argsize"><span>argsize</span></a></h4><div class="language-asm line-numbers-mode" data-highlighter="shiki" data-ext="asm" data-title="asm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">TEXT pkgname·</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(SB),</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOSPLIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">32</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> // </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">$framesize</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-argsize</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>一般大小求和+返回值大小求和，如 4 个 int64 参数，2 个 int64 返回值，就是 48 个字节</p><p>如果不确定自己的函数签名需要多大的 argsize，可以通过简单实现一个相同签名的空函数，然后 go tool objdump 来逆向查找应该分配多少空间。</p><h4 id="framesize" tabindex="-1"><a class="header-anchor" href="#framesize"><span>framesize</span></a></h4><p>函数的 framesize 就稍微复杂一些了，手写代码的 framesize 不需要考虑由编译器插入的 caller BP，要考虑：</p><ol><li>局部变量，及其每个变量的 size。</li><li>在函数中是否有对其它函数调用时，如果有的话，调用时需要将 callee 的参数、返回值考虑在内。虽然 return address(rip)的值也是存储在 caller 的 stack frame 上的，但是这个过程是由 CALL 指令和 RET 指令完成 PC 寄存器的保存和恢复的，在手写汇编时，同样也是不需要考虑这个 PC 寄存器在栈上所需占用的 8 个字节的。</li><li>原则上来说，调用函数时只要不把局部变量覆盖掉就可以了。稍微多分配几个字节的 framesize 也不会死。</li><li>在确保逻辑没有问题的前提下，你愿意覆盖局部变量也没有问题。只要保证进入和退出汇编函数时的 caller 和 callee 能正确拿到返回值就可以。</li></ol><h4 id="地址运算" tabindex="-1"><a class="header-anchor" href="#地址运算"><span>地址运算</span></a></h4><p><code>lea</code>指令，load effective address，amd64 平台地址都是 8 个字节，所以直接就用 LEAQ</p><div class="language-asm line-numbers-mode" data-highlighter="shiki" data-ext="asm" data-title="asm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">LEAQ (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">BX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">*</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">CX</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// 上面代码中的 </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 代表 scale</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// scale 只能是 </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">、</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">、</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">、</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// 如果写成其它值:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// LEAQ (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">BX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">*</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">CX</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// ./</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">a.s:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: bad </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">scale:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 3</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// 用 LEAQ 的话，即使是两个寄存器值直接相加，也必须提供 scale</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// 下面这样是不行的</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// LEAQ (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">BX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">CX</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">asm:</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> asmidx:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> bad address </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">2064</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">2067</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// 正确的写法是</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">LEAQ (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">BX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">*</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">CX</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// 在寄存器运算的基础上，可以加上额外的 offset</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">LEAQ </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">BX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">*</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">CX</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// 三个寄存器做运算，还是别想了</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// LEAQ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">DX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">BX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">*</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">CX</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// ./</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">a.s:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">13</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: expected end of operand, found (</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>实例</p><p>go</p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">package</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> main</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;fmt&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">func</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">b</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // 汇编函数声明</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">func</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> sub</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">b</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // 汇编函数声明</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">func</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> mul</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">b</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // 汇编函数声明</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">func</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    fmt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    fmt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sub</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">99</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    fmt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mul</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">12</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>asm</p><div class="language-asm line-numbers-mode" data-highlighter="shiki" data-ext="asm" data-title="asm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;textflag.h&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> // 因为我们声明函数用到了 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOSPLIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 这样的 flag，所以需要将 textflag.h 包含进来</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// func </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(a, b </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">int</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">TEXT ·</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(SB), </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOSPLIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">24</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    MOVQ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(FP), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> // 参数 a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    MOVQ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(FP), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">BX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> // 参数 b</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ADDQ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">BX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    // </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> += </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">BX</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">ret</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(FP) // 返回</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    RET</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// func </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">sub</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(a, b </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">int</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">TEXT ·</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">sub</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(SB), </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOSPLIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">24</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    MOVQ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(FP), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    MOVQ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(FP), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">BX</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    SUBQ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">BX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    // </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -= </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">BX</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">ret</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(FP)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    RET</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// func </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">mul</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(a, b </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">int</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">TEXT ·</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">mul</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(SB), </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOSPLIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">24</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    MOVQ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  a+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(FP), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    MOVQ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  b+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(FP), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">BX</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    IMULQ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">BX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    // </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> *= </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">BX</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">ret</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(FP)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    RET</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    // 最后一行的空行是必须的，否则可能报 unexpected EOF</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="伪寄存器-sp-、伪寄存器-fp-和硬件寄存器-sp" tabindex="-1"><a class="header-anchor" href="#伪寄存器-sp-、伪寄存器-fp-和硬件寄存器-sp"><span>伪寄存器 SP 、伪寄存器 FP 和硬件寄存器 SP</span></a></h3><p>todo</p><h3 id="其他" tabindex="-1"><a class="header-anchor" href="#其他"><span>其他</span></a></h3><p>go</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>type address struct {</span></span>
<span class="line"><span>    lng int</span></span>
<span class="line"><span>    lat int</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>type person struct {</span></span>
<span class="line"><span>    age    int</span></span>
<span class="line"><span>    height int</span></span>
<span class="line"><span>    addr   address</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>func readStruct(p person) (int, int, int, int)</span></span>
<span class="line"><span>func main() {</span></span>
<span class="line"><span>    var p = person{</span></span>
<span class="line"><span>        age:    99,</span></span>
<span class="line"><span>        height: 88,</span></span>
<span class="line"><span>        addr: address{</span></span>
<span class="line"><span>            lng: 77,</span></span>
<span class="line"><span>            lat: 66,</span></span>
<span class="line"><span>        },</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    a, b, c, d := readStruct(p)</span></span>
<span class="line"><span>    println(a, b, c, d)</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>asm</p><div class="language-asm line-numbers-mode" data-highlighter="shiki" data-ext="asm" data-title="asm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;textflag.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">TEXT ·readStruct(SB), </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOSPLIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">64</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    MOVQ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> arg0+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(FP), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, ret0+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">32</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(FP)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    MOVQ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> arg1+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(FP), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, ret1+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">40</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(FP)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    MOVQ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> arg2+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(FP), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, ret2+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">48</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(FP)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    MOVQ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> arg3+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">24</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(FP), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, ret3+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">56</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(FP)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">    RET</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>go</p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">package</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> main</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">func</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    var</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{}</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">43</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    var</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> n</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">string</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{}</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    n</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;abc&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">n</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// func mapassign_fast64(t *maptype, h *hmap, key uint64) unsafe.Pointer</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>asm</p><p>为<code>mapassign_fast64</code>的参数准备</p><div class="language-asm line-numbers-mode" data-highlighter="shiki" data-ext="asm" data-title="asm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// t *maptype</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">LEAQ    type.map[</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(SB), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) // </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 第一个参数</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// h *hmap</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">LEAQ    &quot;&quot;..autotmp_2+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">232</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) // </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 第二个参数</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// key uint64</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    $43</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) // </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 第三个参数写入43</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">CALL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    runtime.mapassign_fast64(SB) // 返回参数就是key对应可以写值的内存地址，写入 </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">24</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">    24</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> // </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">24</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)是返回值的地址，写入到AX</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    $1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) // 将值1写入这个返回值的地址</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>获取 goroutine id</p><p>go</p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">package</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> goroutineid</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">	&quot;runtime&quot;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">	&quot;strings&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">var</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> offsetDict</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">string</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int64</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">	&quot;go1.4&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:  </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">128</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">	&quot;go1.5&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:  </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">184</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">	&quot;go1.6&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:  </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">192</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">	&quot;go1.7&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:  </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">192</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">	&quot;go1.8&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:  </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">192</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">	&quot;go1.9&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:  </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">152</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">	&quot;go1.10&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">152</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">	&quot;go1.11&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">152</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">	&quot;go1.12&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">152</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">	&quot;go1.13&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">152</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">	&quot;go1.14&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">152</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">var</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> offset</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> func</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int64</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	ver</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> strings</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Join</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">strings</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Split</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">runtime</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(), </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;.&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)[:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;.&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">	return</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> offsetDict</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">ver</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// GetGoID returns the goroutine id</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">func</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> GetGoID</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int64</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>go_tls.h</p><div class="language-asm line-numbers-mode" data-highlighter="shiki" data-ext="asm" data-title="asm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ifdef</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GOARCH_arm</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">define</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> LR R14</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">endif</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ifdef</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GOARCH_amd64</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">define</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    get_tls(r)    MOVQ TLS, r</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">define</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    g(r)    0(r)(TLS*1)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">endif</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ifdef</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GOARCH_amd64p32</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">define</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    get_tls(r)    MOVL TLS, r</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">define</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    g(r)    0(r)(TLS*1)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">endif</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ifdef</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GOARCH_386</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">define</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    get_tls(r)    MOVL TLS, r</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">define</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    g(r)    0(r)(TLS*1)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">endif</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>asm</p><div class="language-asm line-numbers-mode" data-highlighter="shiki" data-ext="asm" data-title="asm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;textflag.h&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;go_tls.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// func GetGoID() int64</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">TEXT ·GetGoID(SB), </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOSPLIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	get_tls(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">CX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">	MOVQ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> g(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">CX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> //</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">	MOVQ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ·offset(SB), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">BX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> //</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	LEAQ </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">BX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">*</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">DX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> //</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">	MOVQ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">DX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> //</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">	MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">ret</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(FP) //</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">	RET</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="simd" tabindex="-1"><a class="header-anchor" href="#simd"><span>SIMD</span></a></h3><p><a href="https://cch123.gitbooks.io/duplicate/content/part3/performance/simd-instruction-class.html" target="_blank" rel="noopener noreferrer">SIMD</a> 是 Single Instruction, Multiple Data 的缩写，在 Intel 平台上的 SIMD 指令集先后为 SSE，AVX，AVX2，AVX512，这些指令集引入了标准以外的指令，和宽度更大的寄存器，例如:</p><ul><li>128 位的 XMM0~XMM31 寄存器。</li><li>256 位的 YMM0~YMM31 寄存器。</li><li>512 位的 ZMM0~ZMM31 寄存器。</li></ul><p>这些寄存器的关系，类似 RAX，EAX，AX 之间的关系。指令方面可以同时对多组数据进行移动或者计算，例如:</p><ul><li>movups : 把 4 个不对准的单精度值传送到 xmm 寄存器或者内存</li><li>movaps : 把 4 个对准的单精度值传送到 xmm 寄存器或者内存</li></ul><p>上述指令，当我们将数组作为函数的入参时有很大概率会看到</p><p>go</p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">package</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> main</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;fmt&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">func</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> pr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">input</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    fmt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">input</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">func</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    pr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">([</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>asm</p><div class="language-asm line-numbers-mode" data-highlighter="shiki" data-ext="asm" data-title="asm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0x001d</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00029</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">arr_par.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)    </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &quot;&quot;.statictmp_0(SB), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0x0024</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00036</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">arr_par.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)    </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0x0028</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00040</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">arr_par.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)    </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVUPS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &quot;&quot;.statictmp_0+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(SB), X0</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0x002f</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00047</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">arr_par.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)    </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVUPS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  X0, </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0x0034</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00052</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">arr_par.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)    </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">CALL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &quot;&quot;.pr(SB)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>编译器在某些情况下已经考虑到了性能问题，帮助我们使用 SIMD 指令集来对数据搬运进行了优化。</p><h3 id="demo" tabindex="-1"><a class="header-anchor" href="#demo"><span>demo</span></a></h3><p>main.go</p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">package</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> main</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	// &quot;asm/pkg&quot;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">	&quot;fmt&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Data</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	Int</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	String</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> string</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	Float</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  float64</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">func</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> addInt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">b</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Data</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">	return</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;"> &amp;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Data</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;"> +</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">func</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	data</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> addInt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	fmt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">go</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tool</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> compile</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -N</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -l</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> main.go</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">main.tool.compile</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>main.tool.compile</p><div class="language-asm line-numbers-mode" data-highlighter="shiki" data-ext="asm" data-title="asm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&quot;&quot;.addInt STEXT size=</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">177</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> args=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0x18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> locals=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0x20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> funcid=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0x0</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; 0x0000 00000 均为当前指令相对于当前函数的偏移量，第一个是 16 进制，第二个是 10 进制</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; TEXT 函数申明</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  ;; TEXT	位于内存的 .text 段</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  ;; &quot;&quot;.addInt(SB)	&quot;&quot;为包名，链接时会填充；函数名 addInt；SB （static base）虚拟寄存器，基于静态地址，可认为是程序内存起始位置，所有用户定义的符号(如 main.addInt) 都作为偏移量写入伪寄存器 FP 和 SB</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  ;; addInt 之所以使用 SB 是否是相对于 so 的函数而言，因为对于动态链接库的函数，函数的地址 = so 文件在进程内存空间的映射地址 + 函数偏移量，而静态链接的函数在编译器就可以确定地址</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  ;; ABIInternal		编译器 flag，含义 application binary interface</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  ;; 其他常见的编译器 flag 有 NOSPLIT</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  ;; NOSPLIT 使编译器不要插入栈帧大小检查扩充代码，防止cpu做无用功</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  ;; $32-24	函数栈帧大小为 32 字节，其中参数+返回值占用 24 字节</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0000</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	TEXT	&quot;&quot;.addInt(SB), ABIInternal, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$32</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">24</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; MOV 数据搬运</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; MOVB 	// 1 byte   B(Byte)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; MOVW 	// 2 bytes  W(Word)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; MOVL 	// 4 bytes  L(Long)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; MOVQ 	// 8 bytes  Q(Quadword)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; MOVSD    //</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; MOVUPS   // 16 bytes 4个不对准的单精度值</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; MOVAPS   // 16 bytes 4个对准的单精度值</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; TLS 是一个由 runtime 维护的虚拟寄存器，保存了指向当前 g 的指针</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; g 前 24 位数据结构如下：</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; 0(TLS) uintptr g.stack.lo;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; 8(TLS) uintptr g.stack.hi; stack describes the actual stack memory: [stack.lo，stack.hi)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  ;; 16(TLS) uintptr g.stackguard0; stackguard0 is the stack pointer compared in the Go stack growth prologue.</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0000</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	(TLS), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">CX</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; CMP 比较大小</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; 与 MOV 类似，CMPL，CMPQ ... 中的 L，Q 为 size 大小</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; CMPQ	SP，16(CX) 表示将以 8bytes 的大小比较 SP，*(CX + 16) 即 g.stackguard0 的大小</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0009</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00009</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	CMPQ	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">CX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; PCDATA GC 相关</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; PC表格: 针对每个函数和函数的每个指令生成一个地址表格，记录代码所在的文件路径、行号和函数的信息</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; PCDATA tableid，tableoffset 第一个参数为表格的类型，第二个是表格的地址</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x000d</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00013</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	PCDATA	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, $-</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">2</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; JLS jump less 小于时跳转</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; CMPQ	SP，16(CX); JLS	167 表示若 SP &lt; *(CX + 16) 跳转到 00167</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; 当 g 的 satck 不足时, 跳转到 00167 执行扩容函数</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x000d</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00013</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	JLS	</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">167</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0013</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00019</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	PCDATA	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, $-</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">1</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; 栈调整</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; SUBQ	$32，SP 对 SP 做减法，为函数分配函数栈帧</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0013</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00019</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	SUBQ	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$32</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; MOV 数据搬运</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; 使用 MOV，CMP 的时候会有看到带括号和不带括号的区别</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; MOVQ 16(AX)，BX	// =&gt; BX = *(AX + 16)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; MOVQ AX，BX		// =&gt; BX = AX 将AX中存储的内容赋值给BX，注意区别</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; CMPB	(AX)，$48	// 以 byte 的 size 比较 *(AX) 48</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; MOVQ	BP，24(SP) 表示将 BP 赋值给 *(SP + 24)，作用为保存调用者的 BP</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0017</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00023</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	BP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">24</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; LEA Load Effective Address 地址运算，类似 &amp;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; LEAQ	24(SP)，BP 表示将 (SP + 24) 赋值给 BP，作用为设置新的 BP</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x001c</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00028</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	LEAQ	</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">24</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">BP</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; FUNCDATA GC相关</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; FUNC 表格用于记录函数的参数、局部变量的指针信息</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0021</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00033</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	FUNCDATA	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, gclocals·54241e171da8af6ae173d69da0236748(SB)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0021</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00033</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	FUNCDATA	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, gclocals·2a5305abe05176240e61b8620e19a815(SB)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; MOVQ	$0，&quot;&quot;.~r2+56(SP)表示将 0 赋值给 *(56 + SP)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; .r2 是分配给引用地址的任意别名；尽管没有任何语义上的含义，但在使用虚拟寄存器和相对地址时，这种别名是需要强制使用的。</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; &quot;&quot;.~r2+56(SP) 格式 $pkg_name.~$var_name+size(reg)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0021</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00033</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	$0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, &quot;&quot;.~r2+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">56</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x002a</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00042</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	LEAQ	type.&quot;&quot;.Data(SB), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0031</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00049</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0035</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00053</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	PCDATA	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$0</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; CALL 调用函数，函数定义：func newobject(typ *_type) unsafe.Pointer</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; 调用函数 runtime.newobject，依据上下文（SP）为参数，8（SP）为返回值</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; 内存逃逸：runtime.newobject 会导致对象分配到堆上</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0035</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00053</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">CALL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	runtime.newobject(SB)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x003a</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00058</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">	8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x003f</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00063</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, &quot;&quot;..autotmp_3+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0044</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00068</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	$0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x004b</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00075</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	$0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; XORPS 源操作数（第二个操作数）与目标操作数（第一个操作数）进行异或。结果保存到目标操作数</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; XORPS	X0，X0 初始化寄存器 X0</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0053</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00083</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">XORPS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	X0, X0</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0056</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00086</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVSD</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	X0, </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">24</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x005b</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00091</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	LEAQ	</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">DI</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x005f</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00095</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	PCDATA	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, $-</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">2</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; GC相关，是否需要写屏障</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x005f</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00095</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	CMPL	runtime.writeBarrier(SB), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$0</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; JEQ jump equal 等于时跳转</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0066</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00102</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	JEQ	</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">106</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; JMP 无条件跳转</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; JMP addr   // 跳转到地址，地址可为代码中的地址</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; JMP label  // 跳转到标签，可以跳转到同一函数内的标签位置</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; JMP 2(PC)  // 以当前指令为基础，向后跳转 2 行</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0068</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00104</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">JMP</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">	156</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x006a</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00106</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	$0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0072</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00114</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">JMP</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">	116</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0074</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00116</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	PCDATA	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, $-</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">1</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0074</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00116</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	&quot;&quot;..autotmp_3+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0079</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00121</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	TESTB	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x007b</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00123</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	&quot;&quot;.a+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">40</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">CX</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0080</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00128</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	ADDQ	&quot;&quot;.b+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">48</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">CX</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0085</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00133</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	CX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0088</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00136</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	&quot;&quot;..autotmp_3+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x008d</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00141</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, &quot;&quot;.~r2+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">56</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; 栈调整</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; ADDQ	$32，SP  对 SP 做加法，清除函数栈帧</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0092</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00146</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">	24</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">BP</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0097</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00151</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	ADDQ	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$32</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; RET 返回</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x009b</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00155</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">RET</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x009c</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00156</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	PCDATA	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, $-</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">2</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x009c</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00156</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	XORL	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x009e</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00158</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">NOP</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x00a0</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00160</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">CALL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	runtime.gcWriteBarrier(SB)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x00a5</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00165</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">JMP</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">	116</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; NOP 空操作，占用一个时钟周期，用于延时或者程序指令的对齐</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x00a7</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00167</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">NOP</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x00a7</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00167</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	PCDATA	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, $-</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">1</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x00a7</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00167</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	PCDATA	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, $-</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">2</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; CALL runtime.morestack satck 扩容</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x00a7</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00167</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">CALL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	runtime.morestack_noctxt(SB)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x00ac</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00172</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	PCDATA	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, $-</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">1</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x00ac</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00172</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">JMP</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">	0</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0000</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 64</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 48</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 8b 0c </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">25</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 48</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 3b </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">61</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 0f </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">86</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 94</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  dH</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..%....H</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">;a....</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0010</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 48</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 83</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ec </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">20</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 48</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 89</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 6c </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">24</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 18</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 48</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 8d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 6c </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">24</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  ...H.. H.l$.H.l$</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0020</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 18</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 48</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> c7 </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">44</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 24</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 38</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 48</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 8d</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 05</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .H.D</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$8.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">...H.....</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0030</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 48</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 89</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 04</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 24</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> e8 </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 48</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 8b </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">44</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 24</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 08</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 48</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .H..$.....H.D$.H</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0040</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 89</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 44</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 24</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 10</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 48</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> c7 </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 48</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> c7 </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">40</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 10</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .D$.H......H.@..</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0050</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 0f </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">57</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> c0 f2 0f </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">11</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 40</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 18</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 48</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 8d</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 78</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 08</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 83</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  ....W....@.H.x..</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0060</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 3d</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 74</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 02</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> eb </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">32</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 48</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> c7 </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">40</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 08</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  =.....t.</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">2H.@...</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0070</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> eb </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 48</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 8b </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">44</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 24</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 10</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 84</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 48</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 8b 4c </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">24</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 28</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  ....H.D$...H.L$(</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0080</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 48</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 03</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 4c </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">24</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 30</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 48</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 89</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 08</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 48</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 8b </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">44</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 24</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 10</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 48</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 89</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 44</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  H.L</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">$0H</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..H.D$.H.D</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0090</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 24</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 38</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 48</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 8b 6c </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">24</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 18</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 48</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 83</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> c4 </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> c3 </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">31</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> c0 </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">66</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 90</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  $8H</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.l$.H.. </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">1.f.</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x00a0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> e8 </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> eb cd e8 </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> e9 4f ff ff  .............O..</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x00b0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ff                                               .</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">	rel</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> t=</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">17</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> TLS+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">0</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">	rel</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 45</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> t=</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> type.&quot;&quot;.Data+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">0</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">	rel</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 54</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> t=</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> runtime.newobject+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">0</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">	rel</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 97</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> t=</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> runtime.writeBarrier+-</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">1</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">	rel</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 161</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> t=</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> runtime.gcWriteBarrier+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">0</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">	rel</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 168</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> t=</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> runtime.morestack_noctxt+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">0</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&quot;&quot;.main STEXT size=</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">186</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> args=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0x0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> locals=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0x78</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> funcid=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0x0</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0000</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	TEXT	&quot;&quot;.main(SB), ABIInternal, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$120</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">0</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0000</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	(TLS), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">CX</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0009</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00009</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	CMPQ	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">CX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x000d</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00013</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	PCDATA	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, $-</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">2</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x000d</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00013</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	JLS	</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">176</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0013</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00019</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	PCDATA	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, $-</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">1</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0013</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00019</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	SUBQ	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$120</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0017</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00023</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	BP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">112</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x001c</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00028</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	LEAQ	</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">112</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">BP</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0021</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00033</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	FUNCDATA	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, gclocals·33cdeccccebe80329f1fdbee7f5874cb(SB)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0021</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00033</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	FUNCDATA	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, gclocals·1d0ed49f611d7e40a62328b5976a2ede(SB)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0021</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00033</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	FUNCDATA	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, &quot;&quot;.main.stkobj(SB)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; CALL 参数:（SP），8（SP）</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0021</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00033</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">19</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	$1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0029</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00041</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">19</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	$2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0032</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00050</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">19</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	PCDATA	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$0</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; CALL</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0032</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00050</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">19</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">CALL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	&quot;&quot;.addInt(SB)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	;; CALL 返回值 16（SP）</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0037</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00055</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">19</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">	16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x003c</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00060</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">19</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, &quot;&quot;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">.data</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">48</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0041</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00065</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, &quot;&quot;..autotmp_1+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">64</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0046</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00070</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">XORPS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	X0, X0</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0049</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00073</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVUPS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	X0, &quot;&quot;..autotmp_2+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">72</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x004e</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00078</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	LEAQ	&quot;&quot;..autotmp_2+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">72</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0053</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00083</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, &quot;&quot;..autotmp_4+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">56</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0058</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00088</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	TESTB	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x005a</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00090</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	&quot;&quot;..autotmp_1+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">64</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">CX</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x005f</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00095</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	LEAQ	type.*&quot;&quot;.Data(SB), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">DX</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0066</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00102</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	DX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, &quot;&quot;..autotmp_2+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">72</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x006b</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00107</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	CX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, &quot;&quot;..autotmp_2+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">80</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0070</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00112</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	TESTB	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0072</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00114</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">JMP</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">	116</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0074</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00116</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, &quot;&quot;..autotmp_3+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">88</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0079</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00121</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	$1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, &quot;&quot;..autotmp_3+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">96</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0082</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00130</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	$1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, &quot;&quot;..autotmp_3+</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">104</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x008b</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00139</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	AX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x008f</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00143</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	$1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x0098</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00152</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	$1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x00a1</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00161</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">CALL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	fmt.Println(SB)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x00a6</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00166</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">21</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">MOVQ</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">	112</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">BP</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x00ab</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00171</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">21</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	ADDQ	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$120</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SP</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x00af</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00175</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">21</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">RET</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x00b0</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00176</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">21</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">NOP</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x00b0</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00176</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	PCDATA	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, $-</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">1</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x00b0</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00176</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	PCDATA	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, $-</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">2</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x00b0</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00176</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">CALL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	runtime.morestack_noctxt(SB)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x00b5</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00181</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	PCDATA	</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, $-</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">1</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">	0x00b5</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;"> 00181</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main.go:</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)	</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">JMP</span><span style="--shiki-light:#986801;--shiki-dark:#C678DD;">	0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/xyz3282836/monodoc/edit/master/packages/blog/src/tech/asm/plan9.md" aria-label="编辑此页" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->编辑此页<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">上次编辑于: </span><span class="vp-meta-info" data-allow-mismatch="text">2024/1/27 00:16:19</span></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: liuruizhou@bilibili.com">liuruizhou</span><!--]--><!--]--></div></div></footer><!----><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">默认页脚</div><div class="vp-copyright">MIT 协议</div></footer></div><!--]--><!--]--><!--[--><!----><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/assets/app-rFP3mJQ8.js" defer></script>
  </body>
</html>
